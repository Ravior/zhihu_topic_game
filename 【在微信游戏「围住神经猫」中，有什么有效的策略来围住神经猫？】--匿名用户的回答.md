## 在微信游戏「围住神经猫」中，有什么有效的策略来围住神经猫？

作者: 匿名用户&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;赞同: 581


<p>（2014年7月27日更新完毕，修正之前错误。<b>转载请注明作者及出处。</b>）</p><br><p>【长文，多图预警】<br></p><br><p>“围住神经猫”虽然是一个小游戏，但细细想来，其实也是一个很有意思、值得探讨的数学问题。<br></p><br><p>先抛出结论：<br><b>在原游戏的条件下，由于初始占有点的随机性，在考虑最坏情况下（如一个点都没占有），无法确保围住神经猫。但是，当棋盘扩展到一定程度时（M不小于9，M的定义会在下面说明），无论初始状态如何，</b><b>存在策略，必</b><b>能围住神经猫。</b><br><br>下面给出本人对这个问题较为详尽的分析，个人观点，仅供参考。<br><br>从表面上看，神经猫能走到的格子数是9×9=81格，但这个“棋盘”并不是对称的，神经猫只需要走4步就能到棋盘的边缘，而一旦被神经猫逃到棋盘边缘，游戏就结束了。<br><br>神经猫的逃跑策略是贪心算法，也就是说，它总是考虑当下离边缘最近的路线。<br>实际上，如下图所示，神经猫4步可以走到的格子被深红色标出，其中带五角星的是棋盘的边缘。<br></p><p><img src="http://pic4.zhimg.com/4afdaa6630045e5661c693d0891a9aeb_b.jpg" data-rawwidth="353" data-rawheight="616" class="content_image" width="353"><br>神经猫显然会尽可能地往带五角星的格子逃跑，而我们要做的便是在猫到达五角星格子以前，把它拦住。<br><br>为了便于讨论，我们考虑<b>更具有代表性</b>的问题，如下图所示：<br><img src="http://pic4.zhimg.com/c9ada44f446328f661e286629fac3b4f_b.jpg" data-rawwidth="340" data-rawheight="308" class="content_image" width="340"><br><b><u>问题描述：在一个边长为M（上图中M=5）正六边形的棋盘上，要在最坏情况下，依然确保能抓住神经猫，令最小能满足条件的M为N，求N的值。</u></b><br></p><br><p><b>下面证明，N=9。</b></p><p><u>（特别感谢  <a data-hash="d0dbf19651d3bf58787ea4c00888491d" href="http://www.zhihu.com/people/d0dbf19651d3bf58787ea4c00888491d" class="member_mention" data-editable="true" data-title="@shepherd" data-tip="p$b$d0dbf19651d3bf58787ea4c00888491d">@shepherd</a> 指出原证明（N=8）的谬误之处，实际上当M=8时，并不能确保捉住神经猫。为此我不得不将前面的证明<b>完全推倒重来</b>。所幸的是，我又及时找到了一个截然不同的证明，目前看来是正确的）</u></p><br><br><b>如觉得证明过于数学化，可跳过该证明，直接看文末总结的本游戏技巧</b>。<br><br><p>——————————————————————————————————</p><p>—————————————证明<b>开始</b>的分界线—————————————<br></p><p>——————————————————————————————————</p><br><br><u><b>引理部分：</b></u><br><br><br><u><b>定义1：</b></u><br><u>如下图所示，橙色点组成的橙环将绿色点组成的绿环完全包住，且满足以下条件：</u><br><u>（1）将所有绿点依次连接，恰能组成一个封闭环而没有多余的线；</u><br><u>（2）对于每一个橙色点，都有绿色点与之相邻（小菱形的长对角线两点不相邻）；</u><br><u>（3）对于每一个绿色点，都有橙色点与之相邻。</u><br><u>满足以上条件，称橙环是绿环的一个<b>紧包</b>。</u><br><img src="http://pic2.zhimg.com/9af24751f079af1b80e274eb0625c99d_b.jpg" data-rawwidth="507" data-rawheight="447" class="origin_image zh-lightbox-thumb" width="507" data-original="http://pic2.zhimg.com/9af24751f079af1b80e274eb0625c99d_r.jpg"><br><br><u><b>引理1</b>：若A环是B环的一个紧包，那么A环包含的点数比B环包含的点数多6。</u><br><br><b>证明：</b><br><br><p>用数学归纳法。</p><br><ul><li>当B环含3个点时，结论成立<br></li></ul><p><img src="http://pic2.zhimg.com/3277a119b01f7ffcd8cbc8102da82cb1_b.jpg" data-rawwidth="152" data-rawheight="138" class="content_image" width="152">如上图所示，3个绿点恰好被9个橙点包住，结论成立。</p><br><ul><li>假设B环含n个点时结论成立，则B环含n+1个点时结论亦成立</li></ul><img src="http://pic3.zhimg.com/c8b42eaf1416a260d24c29d1814aada2_b.jpg" data-rawwidth="437" data-rawheight="514" class="origin_image zh-lightbox-thumb" width="437" data-original="http://pic3.zhimg.com/c8b42eaf1416a260d24c29d1814aada2_r.jpg">如上图所示，第一张图是正常情况，黄色点比浅绿色点多1个，第二张和第三张图为凸出和凹下去的情况，无论哪种情况，虽然黄色点和浅绿色的点的数目增长了（每处凸出或凹进都能增加1个点），但是它们的差依然不变。<br>（亦可手动验证一下，结论是成立的，如下图所示，橙：绿：天蓝=40：34：28）.<br><img src="http://pic2.zhimg.com/8d4febaadcb4f74c0e523e7a47c4ce81_b.jpg" data-rawwidth="513" data-rawheight="470" class="origin_image zh-lightbox-thumb" width="513" data-original="http://pic2.zhimg.com/8d4febaadcb4f74c0e523e7a47c4ce81_r.jpg"><br><br><p><u><b>引理2</b>：游戏时，防守方若要把进攻方包住，必须要在进攻方的运动路线生成封闭环1步之前形成该环的一个紧包。</u></p><br><p>此处仅稍作说明。<br></p><p>如下图所示，冷色为进攻方，暖色为防守方（双方均未采取最佳策略），当橙50形成紧包时，进攻方至少还有1步才能生成封闭环。</p><p>反之，如果在进攻方路线形成环前1步时防守方尚未形成紧包，进攻方不必形成环，而可从那个缺口冲出。（从表面上看，似乎防守方可以留下一个角，如不占领下图的26，进攻方好像不经过41就出不去，不过实际上，这不是防守方所能控制的，路线是进攻方决定的，他完全可以不往包围圈的角落钻。）</p><img src="http://pic4.zhimg.com/2135b101c479b6b7dc1b928791e5a3ab_b.jpg" data-rawwidth="539" data-rawheight="448" class="origin_image zh-lightbox-thumb" width="539" data-original="http://pic4.zhimg.com/2135b101c479b6b7dc1b928791e5a3ab_r.jpg"><br><p><u><b>引理3</b>：如防守方先落子，且在进攻方冲出之前，形成一个封闭环，则进攻方的路线中，与封闭环不相邻的点至少为6个。</u><br></p><br><p><b>证明：</b>因为双方是轮流行动，防守方的行动次数至多比进攻方多1，由引理1和引理2易得该结论。（如在上图中，防守方先行（红0），则天蓝色的6个点为与防守方封闭环不相邻的点。）</p><br><p><u><b>定义2：</b>称某个位置为第n路，若神经猫至少要n-1步才能到达棋盘边缘。</u></p><p>棋盘的最外1圈为第1路，它紧包的里面一圈为第2路，以此类推。边长为M的六边形，中心点为第M路。</p><br><p><u><b>引理4</b>：当进攻方来到第3路时，防守方必须在第1路的相应位置进行防御才能让其不从上方逃出。</u></p><p><img src="http://pic2.zhimg.com/d51db6e457803f4f942ae6ce8ac397d1_b.jpg" data-rawwidth="262" data-rawheight="326" class="content_image" width="262"><b>证明：</b></p><p>如上图所示，绿1后，橙2必须在最上方封堵，才能避免其从上方逃出；特别地，在角上，蓝1后，防守方必须将两个五角星的点都必须占据才行。</p><br><p><u>引理部分结束。</u></p><br><p>回到原题。</p><br><p><b><u>第一部分：M=8时，在最坏情况下，无论怎么防守，神经猫存在策略，必能逃脱</u></b><br><br><b>证明：</b></p><p>见下图</p><p><img src="http://pic4.zhimg.com/4453369c1df508c7b5bac41418abed7b_b.jpg" data-rawwidth="522" data-rawheight="453" class="origin_image zh-lightbox-thumb" width="522" data-original="http://pic4.zhimg.com/4453369c1df508c7b5bac41418abed7b_r.jpg">这是原来N=8的拦截方案，但可惜的是，这个方案是错误的。红2、4、6在第2路的防守方案，实际上并不能拦住神经猫。至绿37，神经猫安然逃出。</p><br><p>那如果拦在第1路呢？见下图。</p><p><img src="http://pic2.zhimg.com/d59fa671e95b311ac7b55e98490f8055_b.jpg" data-rawwidth="508" data-rawheight="463" class="origin_image zh-lightbox-thumb" width="508" data-original="http://pic2.zhimg.com/d59fa671e95b311ac7b55e98490f8055_r.jpg">殊途同归，至绿41，神经猫又跑出去了。</p><br><p>实际上，对于M=8，如果没有直接的拦截，神经猫只要6步就能跑到第2路，此时必然会和防守方短兵相接。如果防守方强行不让神经猫来到第2路，则会更快地短兵相接，如下图所示，在第5步时，神经猫就和防守子力短兵相接了。</p><img src="http://pic4.zhimg.com/3e2903954cd193b4c3e55b11d67ebe77_b.jpg" data-rawwidth="503" data-rawheight="453" class="origin_image zh-lightbox-thumb" width="503" data-original="http://pic4.zhimg.com/3e2903954cd193b4c3e55b11d67ebe77_r.jpg"><br><p>当神经猫和防守子力短兵相接时，它只需要做一件事：贴着你的防守子走。于是，无论哪种情况，神经猫至多只有前5步是和防守方的子力不相接的。由<u>引理3</u>可知，我无法在神经猫逃出之前形成封闭环，所以必然会被神经猫逃出。</p><br><p><u>第一部分证毕！</u></p><br><b><u>第二部分：当M=9时，即使在最坏情况下，我总有策略，必能围住神经猫。</u></b><br><br><p><b>证明：</b></p><p><img src="http://pic1.zhimg.com/0e82d45b03004ef3e11f6655e53a6c10_b.jpg" data-rawwidth="590" data-rawheight="509" class="origin_image zh-lightbox-thumb" width="590" data-original="http://pic1.zhimg.com/0e82d45b03004ef3e11f6655e53a6c10_r.jpg">如上图所示，我不用管神经猫如何行动，只要依次占据0、2、4、6、8、10六个点即可。至橙10，神经猫最快只能来到第4路。</p><p>好了，绿11终于来到了第3路，由引理4可知，我只要拦在12位即可。</p><br><p>下图为变化图，至橙94，神经猫终于被我围住了！</p><p><img src="http://pic1.zhimg.com/e8e614a68bf28edc4f487f3dc64f7d10_b.jpg" data-rawwidth="582" data-rawheight="518" class="origin_image zh-lightbox-thumb" width="582" data-original="http://pic1.zhimg.com/e8e614a68bf28edc4f487f3dc64f7d10_r.jpg"><u>第二部分证毕！</u></p><br><p><b><u>由第一部分和第二部分的结论，即证：N=9。</u></b></p><br><p>——————————————————————————————————</p><p>—————————————证明<b>结束</b>的分界线—————————————<br></p><p>——————————————————————————————————</p><p><br>回到原游戏。从上面的分析可以感受到<b>“围住神经猫”的技巧精髓有如下几点：</b></p><br><p><b>0、游戏的精髓，不是用最少的步数围住神经猫，因为就步数而言，受开局影响太大，主要靠运气；游戏的精髓，是在特定开局情况下（我无法改变）：</b></p><p><b>（1）尽最大可能，确保围住神经猫；</b></p><p><b>（2）在确保1的情况下，尽可能使包围圈小，从而减少围住它的步数。<br></b><br></p><p><b>1、慎勿轻速。除非有援兵，否则应该要远远地张开一张大网，在己方很弱的情况下，切勿轻敌。因为你的速度不比神经猫快，所以直接近身堵截，你总是会慢一步。当你在部署完防御之前，和神经猫短兵相接，你就跪了。<br><br>2、包围圈的设计。</b></p><p><b>由引理3，有推论：当神经猫和我的包围圈短兵相接之前，如果神经猫足够聪明，我必须保证，在我的包围圈，已经<u>布置至少7个子</u>。且尽可能在6个方向上都有子力分布。</b></p><br><p>如下图所示，如何围住神经猫？</p><p><img src="http://pic2.zhimg.com/44eaacda42bfae36c333dd5f24c13641_b.jpg" data-rawwidth="353" data-rawheight="319" class="content_image" width="353"><br>易见，神经猫至多3步就可以与我的防守子力短兵相接。而我设计的包围圈已经有了4个子，所以我接下来的3个子，都必须用于包围圈的设计。</p><p>如下的包围圈是可行的：</p><p><img src="http://pic4.zhimg.com/7dfd97150aed6181ae4bc184fb55c8bf_b.jpg" data-rawwidth="350" data-rawheight="311" class="content_image" width="350">然后就开始撒下大网：</p><p><img src="http://pic1.zhimg.com/9be6f006e2f799cbbf6a0e40d4251b38_b.jpg" data-rawwidth="347" data-rawheight="309" class="content_image" width="347">至红5，大网所需的7点已经占领完毕，神经猫已经无法逃出。</p><p>如果它负隅顽抗，参见下图，至40，它终于进入了包围圈。</p><img src="http://pic3.zhimg.com/0a236e51b54f2ebffbe1f0b780c8df4a_b.jpg" data-rawwidth="348" data-rawheight="314" class="content_image" width="348"><br><p>但是如果包围圈设计得不好呢？如下图所示，左下角的包围圈，神经猫只要2步就可以短兵相接了。</p><p><img src="http://pic4.zhimg.com/7b58587085f4e88947b7e558e95b23af_b.jpg" data-rawwidth="347" data-rawheight="310" class="content_image" width="347">如下图，到白4，实际上你已经围不住神经猫了。</p><p><b><img src="http://pic4.zhimg.com/58c6e2196727e0024b6c968dfde033b7_b.jpg" data-rawwidth="349" data-rawheight="314" class="content_image" width="349">接下来的攻防如几乎是必然的，至白26，神经猫安然逃出。</b></p><img src="http://pic1.zhimg.com/337d19b415fea24f5dd8e171ea4bec60_b.jpg" data-rawwidth="346" data-rawheight="312" class="content_image" width="346"><br><p>所以，设计包围圈是很重要的！能不能围住就在可能就在1路之间！</p><br><p>（注：本例证明了，如果<u>神经猫足够聪明</u>，起始的时候，你至少要有4个子，且位置合理，才有机会捉住它。）</p><p><b><br>3、由于实际游戏中，神经猫没那么聪明，它在左上方有通道的情况下会一味地<u>往左上方逃跑</u>，而不会拐弯，所以，在左上防御充分的前提下，还是尽可能在其它位置做好防御，防患于未然嘛。</b></p><p>（一个具体的例子：参见果壳<a href="http://www.guokr.com/post/612068/" class=" wrap external" target="_blank" rel="nofollow noreferrer">关于“围住神经猫”的最小步数和最优策略<i class="icon-external"></i></a>）</p><img src="http://pic1.zhimg.com/6f35e02cdbaf69b8fee97b3fda4d2a4c_b.jpg" data-rawwidth="328" data-rawheight="284" class="content_image" width="328"><p>如图，正因为神经猫一开始总是往左上角跑，所以这种状态才能围住它，如果神经猫往左下或右上跑，其实是围不住的。</p><p><br><b>4、</b>上面已经证明，当M=9时，我才能确保捉住神经猫。而实际游戏的情况，只比M=5略好一些。</p><p><b>故，必然存在某些情况，因为自己子力太弱，自己根本无法捉住神经猫</b></p><p><b>——这个时候，就放小猫咪一个生路好了。</b></p>



编辑于 2014-07-27



---
原问链接: [http://www.zhihu.com/question/24594263](http://www.zhihu.com/question/24594263)