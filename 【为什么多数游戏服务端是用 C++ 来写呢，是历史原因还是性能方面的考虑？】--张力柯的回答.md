## 为什么多数游戏服务端是用 C++ 来写呢，是历史原因还是性能方面的考虑？

作者: [张力柯](http://www.zhihu.com/people/zhang-li-ke-61)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 赞同: 421


先抛出C#开发组的dev manager当初在微软内部一次讲话时说的(大意）：相信我，绝大部分C++开发人员花那么几小时或者一两天弄出来的内存管理，除了针对某些特定问题，是无法和我们专门小组花几年时间并根据现代软件各种场景仔细设计后开发出来的管理机制相比的。<br><br>中国的开发人员其实很有两面性，一方面他们什么都喜欢去讲“用效率最高的”“最强的”，他们认为“C++虽然难以精通，但是一旦精通就是大杀器“（虽然压根就没几个搞懂了c++实现机制。。。），另一方面他们又要抱怨加班，抱怨需求经常变，抱怨不停改bug...<br><br>中国的程序员从来没有去想过国外程序员经常考虑的一个问题：how to make your life easier？<br><br>他们觉得凡是把事情简化的，都是loser，都是水平低才做的事情，高手就要用c++...<br><br>他们没想过什么叫scalability<br>没想过什么叫learning curve<br>没想过什么叫testability<br><br>老板要他们加快进度，他们说老板不懂技术，说别家用的是低能的php，或者稍微高一点但是还是很low的java，他们说老子用的是效率最强的c++，当然，时间也要多一点。。。<br><br>尼玛开发时间和debug/fix时间不考虑在“效率”里面？<br><br>你说他们勤快呢，似乎也是，愿意用最难的工具去做无数简单又无聊的事情（嗯嗯，比如非要用c++处理数据库...）<br><br>但是他们嘴上说“核心功能一定要保证效率要C/C++"，但是却不愿意去分析到底哪些核心达到了必须用C/C++的地步，结果却变成所有东西都是c/c++<br><br>你处理个tcp连接真心需要c++？你以为java和C++在处理单个tcp handshake的时候有多大本质差别？<br>你存取个redis还一定要c++？<br><br>何为胶水语言，何为glue language，他们似乎没有概念。<br><br>服务器后端本来就该是各种语言各种micro service的组合，他们也不理解。<br><br>之前有人问我我的游戏服务器后端是什么实现，我说我很懒，就是node.js，他立刻抛出这个问题：为什么不用c++呢，c++效率高多了。。。<br>我说为什么你这么觉得呢？他说他之前做个路由的实现，就是用c++<br>额。。。我要说windows kernel里面还有我的代码是C做的呢，我也没说要用C去写服务端。。。不同环境不同需求就该用不同语言和工具，似乎很多人理解不了。。。<br>但是我跟对方说用node.js比较快也容易修改，他就觉得你这是“水平低”的体现，老子就是要知难而上克服技术难关直攀科学高峰。。。额。。。好吧。。。<br><br>我不会用javascript/html5去写游戏客户端，因为我不敢保证其单机性能，但是后端的瓶颈是在scalability，如果受限于单机效率，那是架构出了问题，而不是用什么语言。<br><br>我把这个问题总结为：很多人对C++的极端推崇，归根到底是眼界不够广，也不知道不同场景该用什么不同工具，更不知道国外不断推出的python/ruby/node/go/scala 等等到底是为了解决什么问题针对什么场景，不会去选择最合适的工具，只能用他们自己比较熟悉的c++，然后标榜“高效”。<br><br>其实这个跟政府采购设备反正往最贵的买不会有错，总可以给上面交代，是同一种思维模式。



发布于 2015-04-26



---
原问链接: [http://www.zhihu.com/question/23158109](http://www.zhihu.com/question/23158109)